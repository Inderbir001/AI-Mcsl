<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="QA Tracker — Create issues, detect duplicates and view saved issues.">
  <title>QA Tracker — Create</title>

  <!-- Tailwind (dev CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Your styles (keep path as you had) -->
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body class="antialiased bg-slate-900 text-slate-100">
  <div class="app-root min-h-screen flex items-center justify-center p-6">
    <div class="container w-full max-w-6xl bg-slate-900/70 rounded-2xl shadow-2xl overflow-hidden">
      <header class="flex items-center justify-between px-6 py-4 border-b border-slate-800">
        <div class="flex items-center gap-4">
          <div class="logo w-12 h-12 rounded-lg bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-slate-900 font-bold">QA</div>
          <div>
            <div class="text-lg font-semibold">QA Tracker — Create Issues</div>
            <div class="text-sm text-slate-400">Submit issues, detect duplicates, view saved issues.</div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <a href="./issues.html" class="btn-link">Query Page</a>
          <div id="status" class="flex items-center gap-2 text-sm" role="status" aria-live="polite">
            <span id="status-dot" class="status-dot" aria-hidden="true"></span>
            <span id="status-text">Connecting...</span>
          </div>
        </div>
      </header>

      <main class="grid md:grid-cols-2 gap-6 p-6" role="main">
        <section>
          <div id="chat-log" class="chat-log min-h-[48vh] max-h-[60vh] overflow-y-auto p-4" aria-label="Chat log"></div>

          <form id="message-form" class="flex gap-3 mt-4" autocomplete="off" novalidate>
            <input
              id="message-input"
              name="message"
              type="text"
              class="input flex-1 rounded-md px-3 py-2 bg-slate-800 text-slate-100 placeholder:text-slate-500 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-teal-400"
              placeholder="Paste issue(s) or chat. Examples: '- App crashes' or 'Inder, remember this: I like mangoes'"
              aria-label="Issue input"
              required
            />
            <button class="btn-send px-4 py-2 rounded-md bg-teal-500 text-slate-900 font-semibold" type="submit">Send</button>
            <button id="clearBtn" type="button" class="btn-plain px-3 py-2 rounded-md bg-slate-700 text-slate-200">Clear</button>
          </form>

          <p class="tip text-xs text-slate-400 italic mt-2">
            Tip: use "Inder, remember this:" to save a fact. Use "clear issues" to wipe saved issues.
          </p>
        </section>

        <aside class="flex flex-col bg-panel p-4 rounded-xl border" aria-label="Saved issues panel">
          <div class="flex items-center justify-between mb-3">
            <div class="text-sm font-semibold">Saved issues</div>
            <div class="text-xs text-slate-400" id="issuesCount">0</div>
          </div>

          <div id="issuesList" class="issues-list flex-1 overflow-y-auto space-y-3 px-1 pb-2" aria-live="polite">
            <div class="text-sm text-slate-400">No saved issues yet.</div>
          </div>

          <div class="mt-4 flex gap-2">
            <button id="refreshBtn" class="btn-primary flex-1 px-4 py-2 rounded-md bg-indigo-600">Refresh</button>
            <button id="clearIssuesBtn" class="btn-danger px-4 py-2 rounded-md bg-red-600">Clear issues</button>
          </div>

          <pre id="rawDump" class="raw-dump mt-3 text-xs text-slate-300 overflow-x-auto"></pre>
        </aside>
      </main>
    </div>
  </div>

  <!-- Scripts loaded with defer so DOM is ready -->
  <script src="./js/common.js" defer></script>
  <script src="./js/create.js" defer></script>
</body>
</html>
